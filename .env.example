# Aria Travel Guide - Environment Variables
# Run ./setup.sh to configure interactively, or fill this manually

# ===========================================
# REQUIRED - Core Services
# ===========================================

# Groq API (console.groq.com) - Llama 3.3-70B
GROQ_API_KEY=gsk_your_api_key_here

# Google Gemini (LLM fallback) - aistudio.google.com
GEMINI_API_KEY=your_gemini_api_key_here

# DigitalOcean Managed PostgreSQL
DATABASE_URL=postgresql://user:password@host:25060/database?sslmode=require

# Download from: DB Dashboard → Connection Details → Download CA Certificate
# Encode: base64 -w0 ca-certificate.crt
DATABASE_CA_CERT=
# Test database (used by vitest)
TEST_DATABASE_URL=postgresql://user:password@localhost:5432/personifi_test

# Google Places API (Google Cloud Console)
GOOGLE_PLACES_API_KEY=AIzaSy...

# ===========================================
# CHANNELS - Enable at least one
# ===========================================

# Telegram (get from @BotFather)
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
# Secret token for webhook verification (set when calling setWebhook)
TELEGRAM_WEBHOOK_SECRET=your_random_secret_here

# WhatsApp Business API (Meta Developer Portal)
WHATSAPP_ENABLED=false
WHATSAPP_API_TOKEN=
WHATSAPP_PHONE_ID=
WHATSAPP_VERIFY_TOKEN=aria_webhook_verify

# Slack (api.slack.com/apps)
SLACK_ENABLED=false
SLACK_BOT_TOKEN=xoxb-...
SLACK_SIGNING_SECRET=

# Discord (optional - future)
DISCORD_ENABLED=false
DISCORD_BOT_TOKEN=

# ===========================================
# OPTIONAL - Feature Toggles
# ===========================================

# Proactive features
PROACTIVE_NUDGES_ENABLED=true
DAILY_TIPS_ENABLED=true
BROWSER_SCRAPING_ENABLED=true

# Rate limiting
RATE_LIMIT_PER_MINUTE=10

# Cross-channel identity (/link command)
LINK_CODE_EXPIRY_MINUTES=10

# ===========================================
# DEV 3: The Soul — Memory & Embeddings
# ===========================================

# Jina AI Embedding API (primary) — https://jina.ai (1M tokens free)
JINA_API_KEY=jina_your_api_key_here

# HuggingFace Inference API (fallback) — https://huggingface.co/settings/tokens
HF_API_KEY=hf_your_api_key_here

# Embedding model configuration
EMBEDDING_MODEL=jina-embeddings-v3
HF_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMS=768

# Server
PORT=3000
NODE_ENV=production

# ===========================================
# DEV 4: Travel Tools
# ===========================================

# Amadeus (Flights) - developers.amadeus.com
AMADEUS_API_KEY=your_amadeus_api_key_here
AMADEUS_API_SECRET=your_amadeus_api_secret_here

# SerpAPI (Google Flights/Finance fallback) - serpapi.com
SERPAPI_KEY=your_serpapi_key_here

# RapidAPI (shared key for Instagram, TikTok, YouTube, Booking.com) - rapidapi.com
RAPIDAPI_KEY=your_rapidapi_key_here

# OpenWeatherMap (Weather) - openweathermap.org
OPENWEATHERMAP_API_KEY=your_openweathermap_key_here

# ===========================================
# Food + Grocery MCP (official Swiggy/Zomato APIs)
# ===========================================

# Run locally first: npm run setup:mcp
# Then copy the printed tokens to your production environment variables.
# Without these, the system gracefully falls back to Playwright scrapers.

# Default location for food/grocery scraping (Bengaluru)
DEFAULT_LAT=12.9716
DEFAULT_LNG=77.5946
DEFAULT_CACHE_LOCATION=Bengaluru

# Swiggy MCP — covers Food, Instamart, and Dineout (one token for all 3)
# Get via: npm run setup:mcp:swiggy
SWIGGY_MCP_TOKEN=
SWIGGY_MCP_REFRESH_TOKEN=

# Zomato MCP — restaurant search + menu browsing
# Get via: npm run setup:mcp:zomato  (registers app + authenticates)
ZOMATO_MCP_CLIENT_ID=
ZOMATO_MCP_CLIENT_SECRET=
ZOMATO_MCP_TOKEN=
ZOMATO_MCP_REFRESH_TOKEN=
